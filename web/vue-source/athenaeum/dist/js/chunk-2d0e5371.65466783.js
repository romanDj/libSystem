(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5371"],{9411:function(t,i,r){"use strict";r.r(i);var e=function(){var t=this,i=t.$createElement,r=t._self._c||i;return r("div",{staticClass:"container mt-4 mb-3"},["view"==t.typePage?[r("h4",{staticClass:"mb-3"},[t._v("Список авторов")]),r("button",{staticClass:"btn btn-primary btn-sm mb-3",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.addView(i)}}},[t._v("Добавить ")]),t.isLoading?[r("p",{staticClass:"text-center text-secondary mt-4"},[t._v(" Загрузка...")])]:[null==t.authors||0==t.authors.length?r("p",{staticClass:"text-center text-secondary mt-4"},[t._v(" пока нет ни одного автора")]):r("table",{staticClass:"table table-striped table-hover"},[t._m(0),r("tbody",t._l(t.authors,(function(i,e){return r("tr",{key:"author"+i.id},[r("th",{attrs:{scope:"row"}},[t._v(t._s(e+1))]),r("td",[t._v(t._s(i.fio))]),r("td",[t._v(t._s(i.description))]),r("td",[t._v(t._s(i.books?i.books.length:0))]),r("td",[r("span",{staticClass:"mdi mdi-pencil text-primary m-1",staticStyle:{"font-size":"20px"},on:{click:function(r){return r.preventDefault(),function(){return t.editView(i)}()}}}),r("span",{staticClass:"mdi mdi-delete text-danger m-1",staticStyle:{"font-size":"20px"},on:{click:function(r){return r.preventDefault(),function(){return t.deleteView(i)}()}}})])])})),0)])]]:"add"==t.typePage?[r("h4",{staticClass:"mb-3"},[t._v("Добавление")]),r("form",{staticStyle:{"max-width":"450px"},on:{submit:function(i){return i.preventDefault(),t.addAuthor(i)}}},[r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"fio"}},[t._v(" ФИО")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.currAuthor.fio,expression:"currAuthor.fio",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"fio",type:"text"},domProps:{value:t.currAuthor.fio},on:{input:function(i){i.target.composing||t.$set(t.currAuthor,"fio",i.target.value.trim())},blur:function(i){return t.$forceUpdate()}}})]),r("div",{staticClass:"mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"description"}},[t._v(" Об авторе")]),r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.currAuthor.description,expression:"currAuthor.description",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"description",rows:"3"},domProps:{value:t.currAuthor.description},on:{input:function(i){i.target.composing||t.$set(t.currAuthor,"description",i.target.value.trim())},blur:function(i){return t.$forceUpdate()}}})]),r("button",{staticClass:"btn btn-secondary mr-2",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.mainView(i)}}},[t._v(" Отмена ")]),t.isLoading?r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:""}},[t._v("Загрузка... ")]):r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(" Сохранить ")])])]:"edit"==t.typePage?[r("h4",{staticClass:"mb-3"},[t._v("Редактирование")]),r("form",{staticStyle:{"max-width":"450px"},on:{submit:function(i){return i.preventDefault(),t.editAuthor(i)}}},[r("div",{staticClass:"mb-3"},[r("label",{staticClass:"form-label",attrs:{for:"fio1"}},[t._v(" ФИО")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.currAuthor.fio,expression:"currAuthor.fio",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"fio1",type:"text"},domProps:{value:t.currAuthor.fio},on:{input:function(i){i.target.composing||t.$set(t.currAuthor,"fio",i.target.value.trim())},blur:function(i){return t.$forceUpdate()}}})]),r("div",{staticClass:"mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"description1"}},[t._v(" Об авторе")]),r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.currAuthor.description,expression:"currAuthor.description",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"description1",rows:"3"},domProps:{value:t.currAuthor.description},on:{input:function(i){i.target.composing||t.$set(t.currAuthor,"description",i.target.value.trim())},blur:function(i){return t.$forceUpdate()}}})]),r("button",{staticClass:"btn btn-secondary mr-2",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.mainView(i)}}},[t._v(" Отмена ")]),t.isLoading?r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:""}},[t._v("Загрузка... ")]):r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(" Сохранить ")])])]:"delete"==t.typePage?[r("h4",{staticClass:"mb-3"},[t._v("Подтверждение")]),r("p",{staticClass:"mb-4"},[t._v("Вы уверены, что хотите удалить ("+t._s(t.currAuthor.fio)+") ?")]),r("button",{staticClass:"btn btn-secondary mr-2",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.mainView(i)}}},[t._v(" Отмена ")]),t.isLoading?r("button",{staticClass:"btn btn-danger",attrs:{type:"submit",disabled:""}},[t._v("Загрузка... ")]):r("button",{staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(i){return i.preventDefault(),t.removeAuthor(i)}}},[t._v(" Удалить ")])]:t._e()],2)},s=[function(){var t=this,i=t.$createElement,r=t._self._c||i;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("#")]),r("th",{attrs:{scope:"col"}},[t._v("ФИО")]),r("th",{attrs:{scope:"col"}},[t._v("Об авторе")]),r("th",{attrs:{scope:"col"}},[t._v("Кол-во книг")]),r("th",{attrs:{scope:"col"}})])])}],o={id:null,fio:"",description:""},a={name:"Author",data:function(){return{isLoading:!1,typePage:"view",currAuthor:Object.assign({},o)}},computed:{authors:function(){return this.$store.getters.authors}},methods:{loadAuthors:function(){var t=this;this.isLoading=!0,this.$store.dispatch("loadAuthors").finally((function(){t.isLoading=!1}))},mainView:function(){this.typePage="view"},addView:function(){this.currAuthor=Object.assign({},o),this.typePage="add"},editView:function(t){this.currAuthor=Object.assign({},t),this.typePage="edit"},deleteView:function(t){this.currAuthor=Object.assign({},t),this.typePage="delete"},addAuthor:function(){var t=this;this.isLoading=!0,this.$store.dispatch("addAuthor",this.currAuthor).finally((function(){t.isLoading=!1,t.mainView()}))},editAuthor:function(){var t=this;this.isLoading=!0,this.$store.dispatch("editAuthor",this.currAuthor).finally((function(){t.isLoading=!1,t.mainView()}))},removeAuthor:function(){var t=this;this.isLoading=!0,this.$store.dispatch("removeAuthor",this.currAuthor.id).finally((function(){t.isLoading=!1,t.mainView()}))}},mounted:function(){this.loadAuthors()}},n=a,u=r("2877"),c=Object(u["a"])(n,e,s,!1,null,"1dcd6f9d",null);i["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0e5371.65466783.js.map